From f027e0fa07b581d933ef1033aee11958ec59c1a7 Mon Sep 17 00:00:00 2001
From: Kei Okada <k-okada@jsk.t.u-tokyo.ac.jp>
Date: Tue, 9 Sep 2014 23:52:38 +0900
Subject: [PATCH 2/3] Added Manager.cpp.patch

---
 src/lib/rtm/Manager.cpp       | 1 +
 src/lib/rtm/ManagerConfig.cpp | 1 +
 2 files changed, 2 insertions(+)

diff --git a/src/lib/rtm/Manager.cpp b/src/lib/rtm/Manager.cpp
index a02e60b..0c287d0 100644
--- a/src/lib/rtm/Manager.cpp
+++ b/src/lib/rtm/Manager.cpp
@@ -1665,6 +1665,7 @@ std::vector<coil::Properties> Manager::getLoadableModules()
     std::string name_conf(category + "." + inst_name + ".config_file");
     
     
+    coil::vstring config_fname;
     coil::Properties type_prop, name_prop;
     
     // Load "category.instance_name.config_file"
diff --git a/src/lib/rtm/ManagerConfig.cpp b/src/lib/rtm/ManagerConfig.cpp
index 398c335..1bad1cb 100644
--- a/src/lib/rtm/ManagerConfig.cpp
+++ b/src/lib/rtm/ManagerConfig.cpp
@@ -114,6 +114,7 @@ namespace RTC
 
     // Properties from arguments are marged finally
     prop << m_argprop;
+    prop["config_file"] = m_configFile;
   }
   
   /*!
-- 
1.9.1

